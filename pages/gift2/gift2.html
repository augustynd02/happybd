<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Twój drugi prezent...</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="../../assets/gift.png">
</head>

<body class="center">
  <h1>Otwórz swój prezent!</h1>
  <svg class="ring hidden" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-51.2 -51.2 614.40 614.40" xml:space="preserve" fill="#000000" transform="rotate(0)"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="1.024"></g><g id="SVGRepo_iconCarrier"> <g> <path style="fill:#355468;" d="M211.24,25.778c-6.178,1.248-12.31,2.733-18.367,4.505c-4.246,1.241-6.682,5.692-5.44,9.937 c1.241,4.248,5.693,6.684,9.937,5.44c4.582-1.34,9.21-2.504,13.87-3.52V25.778z"></path> <path style="fill:#355468;" d="M304.494,26.647c-3.654-0.809-7.327-1.499-11.01-2.123V40.78c2.522,0.462,5.04,0.955,7.547,1.51 c17.912,3.965,34.783,10.14,50.403,18.165c0.841-1.661,1.788-3.289,2.865-4.868c2.082-3.05,4.487-5.744,7.137-8.07 C343.695,38.142,324.595,31.097,304.494,26.647z"></path> <path style="fill:#355468;" d="M221.292,119.775c-1.354,0-2.727-0.345-3.986-1.068c-3.835-2.206-5.157-7.103-2.951-10.938 l33.049-57.466c1.429-2.485,4.077-4.017,6.944-4.017c2.867,0,5.515,1.532,6.944,4.017l33.049,57.466 c2.206,3.835,0.885,8.732-2.95,10.938s-8.731,0.885-10.938-2.951l-26.105-45.391l-26.105,45.391 C226.762,118.333,224.064,119.775,221.292,119.775z"></path> <path style="fill:#355468;" d="M143.056,63.774c1.187,1.496,2.247,3.051,3.205,4.647c7.835-4.827,15.969-9.163,24.36-12.915 c4.039-1.807,5.848-6.545,4.042-10.584c-1.807-4.039-6.543-5.845-10.584-4.042c-9.904,4.431-19.489,9.59-28.666,15.406 C138.201,58.405,140.775,60.902,143.056,63.774z"></path> </g> <path style="fill:#c9c0ce;" d="M413.332,93.061c-13.357,19.56-39.95,24.528-59.398,11.093 c-19.449-13.434-24.386-40.184-11.028-59.745c13.358-19.562,39.952-24.528,59.399-11.095C421.753,46.751,426.69,73.5,413.332,93.061 z"></path> <path style="fill:#bcb8b8;" d="M459.897,163.533c-19.686,13.08-46.185,7.631-59.189-12.168c-13.002-19.8-7.586-46.454,12.099-59.535 c19.685-13.079,46.186-7.632,59.19,12.169C485.001,123.798,479.584,150.451,459.897,163.533z"></path> <path style="fill:#c9c0ce;" d="M476.724,246.433c-23.127,4.682-45.646-10.379-50.303-33.639 c-4.653-23.262,10.323-45.915,33.449-50.596c23.128-4.682,45.647,10.379,50.301,33.64 C514.829,219.101,499.851,241.751,476.724,246.433z"></path> <path style="fill:#c9c0ce;" d="M461.353,329.625c-23.183-4.401-38.426-26.872-34.05-50.188c4.378-23.317,26.716-38.65,49.896-34.248 c23.184,4.401,38.428,26.868,34.052,50.186C506.876,318.694,484.534,334.026,461.353,329.625z"></path> <path style="fill:#bcb8b8;" d="M347.394,449.849c-13.59-19.4-8.971-46.205,10.314-59.874c19.286-13.67,45.936-9.027,59.528,10.373 c13.59,19.397,8.974,46.207-10.313,59.875C387.639,473.894,360.987,469.246,347.394,449.849z"></path> <path style="fill:#c9c0ce;" d="M265.518,469.259c-5.347-23.111,8.945-46.204,31.92-51.583c22.976-5.38,45.936,8.996,51.286,32.108 c5.347,23.109-8.943,46.205-31.921,51.582C293.827,506.745,270.869,492.367,265.518,469.259z"></path> <path style="fill:#bcb8b8;" d="M59.484,345.345c18.872-14.247,45.648-10.407,59.814,8.571c14.165,18.977,10.35,45.911-8.521,60.16 c-18.869,14.246-45.647,10.411-59.813-8.569C36.801,386.53,40.617,359.596,59.484,345.345z"></path> <path style="opacity:0.1;enable-background:new ;" d="M74.125,405.509c-14.163-18.977-10.347-45.913,8.519-60.162 c4.348-3.282,9.118-5.593,14.054-6.99c-12.366-3.49-26.149-1.364-37.215,6.99c-18.867,14.25-22.683,41.185-8.52,60.162 c10.901,14.606,29.271,20.232,45.758,15.562C88.001,418.608,79.983,413.358,74.125,405.509z"></path> <path style="fill:#c9c0ce;" d="M37.737,263.615c22.807-6.069,46.183,7.603,52.218,30.542c6.04,22.936-7.557,46.45-30.362,52.521 c-22.803,6.072-46.184-7.601-52.22-30.537C1.339,293.203,14.933,269.689,37.737,263.615z"></path> <path style="opacity:0.1;enable-background:new ;" d="M30.53,316.141c-5.978-22.722,7.312-46,29.729-52.339 c-7.119-2.027-14.851-2.228-22.523-0.187c-22.804,6.074-36.398,29.588-30.364,52.526c6.034,22.937,29.417,36.609,52.22,30.537 c0.213-0.056,0.42-0.125,0.631-0.186C46.18,342.493,34.534,331.361,30.53,316.141z"></path> <path style="fill:#c9c0ce;" d="M48.112,179.638c23.405,2.996,39.964,24.505,36.988,48.046c-2.973,23.54-24.358,40.195-47.764,37.204 c-23.403-2.992-39.967-24.501-36.99-48.042C3.322,193.307,24.708,176.649,48.112,179.638z"></path> <path style="opacity:0.1;enable-background:new ;" d="M23.92,216.846c2.22-17.562,14.688-31.286,30.595-35.887 c-2.066-0.595-4.204-1.04-6.401-1.321c-23.406-2.989-44.792,13.668-47.768,37.208c-2.977,23.542,13.588,45.051,36.99,48.042 c5.944,0.76,11.758,0.247,17.173-1.319C34.569,257.839,21.222,238.177,23.92,216.846z"></path> <path style="fill:#c9c0ce;" d="M89.094,105.745c20.571,11.621,27.881,37.81,16.33,58.5c-11.547,20.693-37.586,28.044-58.158,16.426 c-20.569-11.615-27.884-37.806-16.334-58.497C42.485,101.486,68.522,94.131,89.094,105.745z"></path> <path style="opacity:0.1;enable-background:new ;" d="M70.424,180.671c-20.569-11.615-27.884-37.806-16.334-58.497 c5.771-10.335,15.156-17.342,25.67-20.319c-18.559-5.272-38.969,2.662-48.828,20.319c-11.55,20.69-4.235,46.881,16.334,58.497 c10.296,5.816,21.964,6.879,32.497,3.893C76.576,183.658,73.441,182.374,70.424,180.671z"></path> <path style="fill:#bcb8b8;" d="M154.684,52.748c14.724,18.545,11.716,45.583-6.721,60.393 c-18.433,14.812-45.314,11.786-60.041-6.757C73.196,87.842,76.201,60.803,94.64,45.991 C113.072,31.181,139.956,34.206,154.684,52.748z"></path> <path style="opacity:0.1;enable-background:new ;" d="M111.083,106.385c-14.725-18.542-11.72-45.581,6.718-60.393 c4.597-3.693,9.719-6.276,15.045-7.788c-12.784-3.599-27.044-1.182-38.207,7.788c-18.438,14.812-21.442,41.851-6.718,60.393 c11.054,13.92,28.958,19.094,44.995,14.545C124.592,118.586,116.891,113.698,111.083,106.385z"></path> <path style="fill:#b1b4b4;" d="M300.322,43.586c0,5.874-4.807,10.681-10.681,10.681h-74.558c-5.874,0-10.681-4.807-10.681-10.681 V16.708c0-5.874,4.807-10.681,10.681-10.681h74.558c5.874,0,10.681,4.807,10.681,10.681V43.586z"></path> <path style="opacity:0.1;enable-background:new ;" d="M226.304,43.586V16.708c0-5.874,4.807-10.681,10.681-10.681h-21.901 c-5.874,0-10.681,4.807-10.681,10.681v26.879c0,5.874,4.807,10.681,10.681,10.681h21.901 C231.11,54.268,226.304,49.461,226.304,43.586z"></path> <g> <path style="fill:#7340bf;" d="M219.504,90.538c-13.325,0-24.165,10.869-24.165,24.229c0,13.359,10.841,24.228,24.165,24.228 s24.165-10.869,24.165-24.228C243.669,101.407,232.828,90.538,219.504,90.538z"></path> <path style="fill:#7340bf;" d="M290.107,90.538c-13.325,0-24.165,10.869-24.165,24.229c0,13.359,10.84,24.228,24.165,24.228 c13.326,0,24.165-10.869,24.165-24.228C314.272,101.407,303.431,90.538,290.107,90.538z"></path> </g> <path style="fill:#c9c0ce;" d="M416.028,400.915c-19.841-12.842-25.574-39.427-12.808-59.384 c12.766-19.955,39.197-25.722,59.039-12.883c19.839,12.842,25.576,39.428,12.807,59.383 C462.304,407.987,435.87,413.754,416.028,400.915z"></path> <g> <path style="fill:#FFFFFF;" d="M472.404,231.107c-2.981,0-5.884-0.592-8.627-1.762c-2.264-0.965-3.642-3.285-3.407-5.735 c0.235-2.449,2.029-4.466,4.436-4.983c8.913-1.806,15.796-8.73,17.622-17.659c0.499-2.444,2.543-4.271,5.029-4.494 c0.17-0.016,0.34-0.023,0.507-0.023c2.291,0,4.378,1.393,5.241,3.551c0.514,1.284,0.912,2.624,1.184,3.981 c2.453,12.254-5.417,24.221-17.543,26.676C475.372,230.955,473.879,231.107,472.404,231.107z"></path> <path style="fill:#FFFFFF;" d="M441.036,391.595c-2.982,0-5.885-0.592-8.627-1.763c-2.264-0.966-3.644-3.285-3.408-5.735 c0.235-2.449,2.029-4.466,4.436-4.983c8.914-1.806,15.797-8.729,17.623-17.66c0.501-2.445,2.544-4.272,5.03-4.495 c0.169-0.016,0.34-0.022,0.508-0.022c2.29,0,4.378,1.392,5.241,3.551c0.514,1.284,0.912,2.623,1.183,3.981 c2.453,12.255-5.417,24.224-17.544,26.678C444.005,391.444,442.511,391.595,441.036,391.595z"></path> <path style="opacity:0.7;fill:#FFFFFF;enable-background:new ;" d="M311.431,487.8c-2.981,0-5.883-0.592-8.627-1.763 c-2.264-0.965-3.643-3.284-3.407-5.735c0.235-2.449,2.029-4.466,4.436-4.983c8.914-1.805,15.796-8.728,17.622-17.658 c0.499-2.444,2.544-4.272,5.029-4.494c0.17-0.016,0.34-0.023,0.507-0.023c2.291,0,4.378,1.393,5.241,3.55 c0.514,1.284,0.912,2.624,1.183,3.981c2.453,12.255-5.417,24.222-17.543,26.675C314.399,487.649,312.905,487.8,311.431,487.8z"></path> </g> <rect x="244.349" y="6.027" style="fill:#ffffff;" width="16.021" height="48.243"></rect> <path style="fill:#c9c0ce;" d="M110.176,412.878c12.167-20.334,38.413-26.896,58.627-14.659 c20.215,12.232,26.741,38.633,14.577,58.966c-12.163,20.332-38.411,26.899-58.624,14.664 C104.54,459.614,98.017,433.213,110.176,412.878z"></path> <path style="opacity:0.1;enable-background:new ;" d="M147.85,471.849c-20.218-12.235-26.74-38.636-14.581-58.971 c5.849-9.774,14.954-16.355,25.074-19.206c-18.07-5.124-38.018,2.244-48.168,19.206c-12.159,20.335-5.637,46.736,14.581,58.971 c10.495,6.353,22.615,7.625,33.547,4.545C154.715,475.376,151.199,473.875,147.85,471.849z"></path> <path style="fill:#c9c0ce;" d="M182.381,456.302c3.679-23.439,25.551-39.441,48.855-35.743 c23.303,3.699,39.213,25.698,35.535,49.137c-3.677,23.439-25.549,39.445-48.852,35.744 C194.614,501.746,178.706,479.742,182.381,456.302z"></path> </g></svg>
  <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
    viewBox="0 0 512 512" xml:space="preserve" width="256px" height="256px" fill="#000000" class="present">
    <g id="SVGRepo_bgCarrier" stroke-width="0" />

    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" />

    <g id="SVGRepo_iconCarrier">
      <g>
        <g>
          <path style="fill: #f0f0f0"
            d="M480,252c-4.422,0-8,3.582-8,8H40c0-4.418-3.578-8-8-8s-8,3.582-8,8v208c0,22.055,17.945,40,40,40 h384c22.055,0,40-17.945,40-40V260C488,255.582,484.422,252,480,252z" />
        </g>
        <g>
          <path style="fill: #eca9fe"
            d="M480,164H32c-17.648,0-32,14.355-32,32v48c0,17.645,14.352,32,32,32h448c17.648,0,32-14.355,32-32 v-48C512,178.355,497.648,164,480,164z" />
        </g>
        <g>
          <g>
            <rect x="224" y="156" style="fill: #56047c" width="64" height="352" />
          </g>
        </g>
        <g>
          <g>
            <polygon style="fill: #c224ad" points="224,407.313 288,471.313 288,448.688 224,384.688 " />
          </g>
          <g>
            <polygon style="fill: #c224ad" points="224,367.313 288,431.313 288,408.688 224,344.688 " />
          </g>
          <g>
            <polygon style="fill: #c224ad" points="288,231.313 288,208.688 235.313,156 224,156 224,167.313 " />
          </g>
          <g>
            <polygon style="fill: #c224ad" points="224,327.313 288,391.313 288,368.688 224,304.688 " />
          </g>
          <g>
            <polygon style="fill: #c224ad" points="224,424.688 224,447.313 284.688,508 288,508 288,488.688 " />
          </g>
          <g>
            <polygon style="fill: #c224ad" points="224,287.313 288,351.313 288,328.688 224,264.688 " />
          </g>
          <g>
            <polygon style="fill: #c224ad" points="224,207.313 288,271.313 288,248.688 224,184.688 " />
          </g>
          <g>
            <polygon style="fill: #c224ad" points="267.313,508 224,464.688 224,487.313 244.688,508 " />
          </g>
          <g>
            <polygon style="fill: #c224ad" points="224,247.313 288,311.313 288,288.688 224,224.688 " />
          </g>
        </g>
        <g>
          <path style="fill: #c224ad"
            d="M424,291.969c-31.586,0-50.203-32.934-68.203-64.785c-13.333-23.584-27.024-47.742-46.855-58.039 c37.64-14.671,85.006-34.957,99.145-49.094c26.516-26.512,26.516-69.652,0-96.164c-26.516-26.516-69.656-26.516-96.172,0 C295.42,40.378,270.544,102.129,256,140.862c-14.544-38.732-39.42-100.484-55.914-116.975c-26.516-26.516-69.656-26.516-96.172,0 c-26.516,26.512-26.516,69.652,0,96.164c14.139,14.137,61.504,34.423,99.145,49.094c-19.832,10.297-33.522,34.455-46.855,58.039 c-18,31.852-36.617,64.785-68.203,64.785c-6.625,0-12,5.371-12,12s5.375,12,12,12c45.586,0,68.703-40.895,89.094-76.977 c14.836-26.238,28.844-51.023,46.906-51.023V188h64v-0.031c18.063,0,32.07,24.785,46.906,51.023 c20.391,36.082,43.508,76.977,89.094,76.977c6.625,0,12-5.371,12-12S430.625,291.969,424,291.969z M328.883,40.855 c8.578-8.578,19.844-12.863,31.117-12.863c11.266,0,22.539,4.289,31.117,12.863c17.156,17.156,17.156,45.07,0,62.227 c-12.219,12.219-69.773,36.078-115.156,52.926C292.805,110.625,316.664,53.074,328.883,40.855z M120.883,40.855 c8.578-8.578,19.844-12.863,31.117-12.863c11.266,0,22.539,4.289,31.117,12.863c12.219,12.219,36.078,69.77,52.922,115.152 c-45.383-16.848-102.938-40.707-115.156-52.926C103.727,85.926,103.727,58.012,120.883,40.855z" />
        </g>
      </g>
    </g>
  </svg>
  <p class="hidden">...spójrz obok siebie :></p>
  <script defer>
    class Confetti {
      constructor(root) {
        this.root = root;
        this.canvas = document.createElement("canvas");
        this.ctx = this.canvas.getContext("2d");
        this.root.appendChild(this.canvas);

        this.canvas.width = this.root.offsetWidth;
        this.canvas.height = this.root.offsetHeight;

        this.confettis = [];

        this.animate();
      }

      getRandomNumber(min, max) {
        return Math.random() * (max - min) + min;
      }

      createConfetti() {
        const x = this.getRandomNumber(0, this.canvas.width);
        const y = this.getRandomNumber(-this.canvas.height, 0);
        const rotation = this.getRandomNumber(0, 2 * Math.PI);
        const color =
          "#" + (Math.random().toString(16) + "000000").substring(2, 8);
        const speed = this.getRandomNumber(3, 5);
        const size = this.getRandomNumber(5, 15);

        const confetti = {
          x,
          y,
          rotation,
          color,
          speed,
          size,
        };

        this.confettis.push(confetti);
      }

      removeOffScreenConfetti() {
        this.confettis = this.confettis.filter(
          (confetti) => confetti.y <= this.canvas.height
        );
      }

      drawConfetti(confetti) {
        this.ctx.save();
        this.ctx.translate(confetti.x, confetti.y);
        this.ctx.rotate(confetti.rotation);
        this.ctx.fillStyle = confetti.color;
        this.ctx.fillRect(
          -confetti.size / 2,
          -confetti.size / 2,
          confetti.size,
          confetti.size
        );
        this.ctx.restore();
      }

      updateConfetti(confetti) {
        confetti.y += confetti.speed;
        if (confetti.y > this.canvas.height) {
          confetti.y = this.getRandomNumber(-this.canvas.height, 0);
          confetti.x = this.getRandomNumber(0, this.canvas.width);
          confetti.speed = this.getRandomNumber(3, 6);
          confetti.size = this.getRandomNumber(5, 15);
        }
      }

      stopAnimationAfterTimeout(timeout) {
        setTimeout(() => {
          this.animationStopped = true;
        }, timeout);
      }

      animate() {
        requestAnimationFrame(() => this.animate());

        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);

        if (Math.random() < 0.2) {
          this.createConfetti();
        }

        this.confettis.forEach((confetti) => {
          this.updateConfetti(confetti);
          this.drawConfetti(confetti);
        });

        this.removeOffScreenConfetti();
      }
    }

    const root = document.querySelector("body");
    const present = document.querySelector(".present");
    const ring = document.querySelector(".ring");
    const p = document.querySelector("p");

    present.addEventListener("click", () => {
      clickCounter++;
      if (clickCounter == 10) {
        present.classList.add("hide");
        ring.classList.remove("hidden");
        new Confetti(root);
      }
      present.classList.remove("shake");
      setTimeout(() => {
        present.classList.add("shake");
      }, 0);
    });
    present.addEventListener("animationend", (e) => {
      if (e.animationName == "hide") {
        root.removeChild(present);
        p.classList.remove("hidden");
      }
    });

    let clickCounter = 0;
  </script>
</body>

</html>
